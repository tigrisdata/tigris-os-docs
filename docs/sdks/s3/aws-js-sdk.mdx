# AWS JavaScript SDK

import CodeBlock from "@theme/CodeBlock";

This guide assumes that you have followed the steps in the
[Getting Started](/docs/get-started/index.md) guide, and have the access keys
available.

You may continue to use the AWS JS SDK as you normally would, but with the
endpoint set to Tigris. If you are using Tigris outside of Fly, use the endpoint
[https://t3.storage.dev](https://t3.storage.dev). If you are using Tigris from
within Fly, use the endpoint
[https://fly.storage.tigris.dev](https://fly.storage.tigris.dev). Also make sure
that `s3ForcePathStyle` is set to `false`.

```js
import { S3Client } from "@aws-sdk/client-s3";

const S3 = new S3Client({
  region: "auto",
  endpoint: "https://t3.storage.dev",
  // highlight-start
  s3ForcePathStyle: false,
  // highlight-end
});
```

## Getting started

This example uses the
[AWS Node.js SDK v3](https://www.npmjs.com/package/@aws-sdk/client-s3) and reads
the default credentials file or the environment variables `AWS_ACCESS_KEY_ID`
and `AWS_SECRET_ACCESS_KEY`.

import gettingStarted from "!!raw-loader!../../../examples/js/getting-started.js";

<CodeBlock language="js">{gettingStarted}</CodeBlock>

## Using presigned URLs

Presigned URLs can be used with the AWS Node.js SDK as follows:

import presignedUrls from "!!raw-loader!../../../examples/js/presigned-urls.js";

<CodeBlock language="js">{presignedUrls}</CodeBlock>

You can now use the URL returned by the `getSignedUrl` function to download or
upload objects to the bucket using the `https` package.

### Presigned URLs with custom domains

You can also use a
[presigned URL with a custom domain](../../objects/presigned.md#presigned-url-with-custom-domain)
by replacing the Tigris domain name with your custom domain name:

```js
const brandedURL = presignedUrl.replace(
  "t3.storage.dev",
  "your-domain.example.com",
);
console.log("Presigned URL for GET (custom domain):", brandedURL);
```

## Renaming objects

[Objects can be renamed](/docs/objects/object-rename/) in Tigris by attaching
the `X-Tigris-Rename` header to a CopyObject request.

import renameObject from "!!raw-loader!../../../examples/js/rename-object.js";

<CodeBlock language="js">{renameObject}</CodeBlock>
