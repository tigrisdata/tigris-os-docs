# AWS Ruby SDK

import CodeBlock from "@theme/CodeBlock";

This guide assumes that you have followed the steps in the
[Getting Started](/docs/get-started/index.md) guide, and have the access keys
available.

You may continue to use the AWS Ruby SDK as you normally would, but with the
endpoint set to Tigris. If you are using Tigris outside of Fly, use the endpoint
[https://t3.storageapi.dev](https://t3.storageapi.dev). If you are using Tigris
from within Fly, use the endpoint
[https://fly.storage.tigris.dev](https://fly.storage.tigris.dev). Also make sure
`force_path_style` is set to false:

```ruby
s3 = Aws::S3::Client.new(
    region: "auto",
    # highlight-start
    endpoint: "https://t3.storageapi.dev",
    force_path_style: false,
    # highlight-end
)
```

This example uses the [AWS Ruby SDK v3](https://github.com/aws/aws-sdk-ruby) and
reads the default credentials file or the environment variables
`AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY`.

import Gemfile from "!!raw-loader!../../../examples/ruby/Gemfile";

<CodeBlock language="ruby">{Gemfile}</CodeBlock>

Then you can use the SDK as you normally would, but with the endpoint set to
Tigris. If you are using Tigris outside of Fly, use the endpoint
[https://t3.storageapi.dev](https://t3.storageapi.dev). If you are using Tigris
from within Fly, use the endpoint
[https://fly.storage.tigris.dev](https://fly.storage.tigris.dev).

import gettingStarted from "!!raw-loader!../../../examples/ruby/getting_started.rb";

<CodeBlock language="ruby">{gettingStarted}</CodeBlock>

## Presigned URLs

Presigned URLs are supported by the AWS Ruby SDK. You can generate a presigned
URL by calling the `presigned_url` method on a Bucket object.

import presignedUrls from "!!raw-loader!../../../examples/ruby/presigned_urls.rb";

<CodeBlock language="ruby">{presignedUrls}</CodeBlock>

### Presigned URLs with custom domains

You can also use a
[presigned URL with a custom domain](../../objects/presigned.md#presigned-url-with-custom-domain)
by replacing the Tigris domain name with your custom domain name:

```ruby
branded_url = presigned_url.gsub("t3.storageapi.dev", "your-domain.example.com")
puts "Presigned URL for GET (custom domain): #{branded_url}"
```
